#!/usr/bin/env ruby

require_relative '../lib/epub_optimizer'

if ARGV.length != 2
  puts "Usage: #{$0} <input.epub> <output.epub>"
  exit 1
end

input_file = ARGV[0]
output_file = ARGV[1]

unless File.exist?(input_file)
  puts "Error: Input file '#{input_file}' not found"
  exit 1
end

optimizer = EpubOptimizer.new
optimizer.optimize(input_file, output_file)